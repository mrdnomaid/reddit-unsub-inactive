<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Unsubscribe from Inactive Subreddits</title>

  <meta name="description" content="Unsubscribe from inactive subreddits/communities (on reddit) ">
  <meta name="author" content="dnomaid.co.uk">
  <meta property="og:title" content="Unsubscribe from Inactive Subreddits">
  <meta property="og:description" content="Unsubscribe from inactive subreddits/communities (on reddit) ">
  <meta property="og:image" content="https://dnomaid.co.uk/redditunsubinactive/img/feather-icon-minus.png">
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:site" content="@mrdnomaid" />
  <meta name="twitter:creator" content="@mrdnomaid" />
  <meta name="twitter:title" content="Unsubscribe from Inactive Subreddits" />
  <meta name="twitter:description" content="Unsubscribe from inactive subreddits/communities (on reddit) " />
  <meta name="twitter:image" content="https://dnomaid.co.uk/redditunsubinactive/img/feather-icon-minus.png" />
  <meta content="#ff8c00" name="theme-color">

  <link rel="stylesheet" href="css/style.css">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">
  <link rel="shortcut icon" type="image/png" href="img/feather-icon-minus.png">
</head>

<body>
  <header>
    <h1>Unsubscribe from Inactive Subreddits</h1>
  </header>

  <main>
    <!-- No JS Warning -->
    <noscript>
      <div class="step warn" id="noscript">
        <h2>JavaScript Warning<i class="fab fa-fw fa-js-square"></i></h2>
        <p>Please <a href="https://enable-javascript.com/">enable JavaScript</a> to use this site</p>
      </div>
    </noscript>

    <!-- Mobile Warning -->
    <div class="step warn" id="mobile" style="display: none;">
      <h2>Mobile Warning <i class="fas fa-fw fa-mobile"></i></h2>
      <p>This site is designed for desktops. Use on a phone/tablet is not recommended (you can't access the browser console and that)</p>
    </div>

    <!-- Firefox Warning -->
    <div class="step warn" id="firefox" style="display: none;">
      <h2>Firefox Warning <i class="fab fa-fw fa-firefox"></i></h2>
      <p>Before running this tool, <a href="img/firefox.png" target="_blank" rel="noopener noreferrer nofollow">check and see</a> if <a href="https://support.mozilla.org/en-US/kb/tracking-protection" target="_blank" rel="noopener noreferrer nofollow">Tracking Protection</a> is enabled. This causes problems with sites such as this that make cross-site requests.</p>
    </div>

    <!-- Step 1 (input) -->
    <div class="step" id="step1">
      <h2>Step 1 <i class="fas fa-fw fa-keyboard"></i></h2>
      <p>Visit <a href="https://old.reddit.com/subreddits/mine/" target="_blank" rel="noopener noreferrer nofollow">this page</a> and click on "multireddit of your subscriptions" in the right sidebar.</p>
      <p>Copy and paste that URL into the box below:</p>
      <input type="text" placeholder="https://old.reddit.com/r/aww+adorablecats+amazingdogs..." id="inUrl">
      <p>Unsubscribe from subreddits where the last post is <input type="number" value="3" min="1" max="365" id="daysThreshold"> or more days old</p>
      <button type="button" onclick="doTheThing(document.getElementById('inUrl').value);">Continue</button>
    </div>

    <!-- Step 2 (compute&fetch) -->
    <div class="step" id="step2" style="display: none;">
      <h2>Step 2 <i class="fas fa-fw fa-cloud-download-alt"></i></h2>
      <p>A thing is happening! Respect the thing!</p>
      <p id="currently">Preparing...</p>
    </div>

    <!-- Step 3 (listing) -->
    <div class="step" id="step3" style="display: none;">
      <h2>Step 3 <i class="fas fa-fw fa-trash"></i></h2>
      <p>Here's a list of subreddits you will be unsubscribed from (<b id="toUnsubLength">0</b>):</p>
      <ul id="toUnsub">
      </ul>
    </div>

    <!-- Step 4 (code)-->
    <div class="step" id="step4" style="display: none;">
      <h2>Step 4 <i class="fas fa-fw fa-paste"></i></h2>
      <p>Copy and paste this code into your browser console on <a href="https://old.reddit.com/subreddits/mine/">the same page</a> as before and click all the highlighted buttons.</p>
      <input type="text" id="unsubCode" onfocus="this.select();" readonly="readonly"></input>
    </div>

    <footer>
      <p>
          A <a href="https://dnomaid.co.uk">dnomaid</a> thing. <a href="https://github.com/mrdnomaid/reddit-unsub-inactive">Source</a>.<br>
          <span style="opacity: 0.8; font-size: 80%;">Not endorsed or affiliated with <a href="https://www.redditinc.com/">Reddit, Inc</a>.</span>
      </p>
    </footer>
  </main>

  <!-- JQuery required only for .getJSON since I'm lazy -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <!-- "Global" functions used in many places -->
  <script src="js/func.js"></script>
  <!-- Check the URL and get the process started -->
  <script src="js/go.js"></script>
  <!-- The script that calculates which subreddits to keep -->
  <script src="js/check.js"></script>
  <!-- Manage the unsubscription listing -->
  <script src="js/unsubs.js"></script>
</body>

</html>
